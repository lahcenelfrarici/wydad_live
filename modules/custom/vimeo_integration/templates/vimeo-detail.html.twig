<section class="detail___video_node">
  <div class="container-fluid">
    <div class="row">

      <!-- Main Video -->
      <div class="col-lg-8">
        <div class="video-thumbnail position-relative">
          <iframe
            src="{{ video.player }}?autoplay=1&loop=0&muted=0"
            frameborder="0"
            allow="autoplay; fullscreen; picture-in-picture"
            allowfullscreen>
          </iframe>

          <div class="play-icon position-absolute top-50 start-50 translate-middle">
            <svg width="80" height="80" viewBox="0 0 80 80" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M0 40C0 17.9086 17.9086 0 40 0C62.0914 0 80 17.9086 80 40C80 62.0914 62.0914 80 40 80C17.9086 80 0 62.0914 0 40Z" fill="white" fill-opacity="0.9"/>
              <path d="M32 25L55.3333 40L32 55V25Z" fill="#E30613" stroke="#E30613" stroke-width="3.33333" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
        </div>

        <!-- Video Title -->
        <h3 class="mt-3 fw-bold text-white">{{ video.title }}</h3>

        <!-- Meta Info -->
        <div class="video-meta d-flex align-items-center gap-3 mb-3 text-muted">
          <div class="d-flex align-items-center">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M5.333 1.333V4" stroke="#B3B3B3" stroke-width="1.333" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M10.667 1.333V4" stroke="#B3B3B3" stroke-width="1.333" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M12.667 2.667H3.333A1.333 1.333 0 002 4v9.333A1.333 1.333 0 003.333 14.667h9.333A1.333 1.333 0 0014 13.333V4a1.333 1.333 0 00-1.333-1.333z" stroke="#B3B3B3" stroke-width="1.333" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M2 6.667h12" stroke="#B3B3B3" stroke-width="1.333" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <span>{{ video.created|default('') }}</span>
          </div>
          <button class="btn-share">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 5.3335C13.1046 5.3335 14 4.43807 14 3.3335C14 2.22893 13.1046 1.3335 12 1.3335C10.8954 1.3335 10 2.22893 10 3.3335C10 4.43807 10.8954 5.3335 12 5.3335Z" stroke="white" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M4 10C5.10457 10 6 9.10457 6 8C6 6.89543 5.10457 6 4 6C2.89543 6 2 6.89543 2 8C2 9.10457 2.89543 10 4 10Z" stroke="white" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M12 14.6665C13.1046 14.6665 14 13.7711 14 12.6665C14 11.5619 13.1046 10.6665 12 10.6665C10.8954 10.6665 10 11.5619 10 12.6665C10 13.7711 10.8954 14.6665 12 14.6665Z" stroke="white" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M5.72656 9.00684L10.2799 11.6602" stroke="white" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"></path>
                <path d="M10.2732 4.33984L5.72656 6.99318" stroke="white" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"></path>
              </svg>
              Partager
            </button>
        </div>

        <!-- Description -->
        <div class="description text-white">
          <p>{{ video.description }}</p>
          {# <p><strong>Durée :</strong> {{ video.duration }}</p> #}
        </div>
      </div>

      <!-- Sidebar -->
      <div class="col-lg-4 right----conetnt">
        <div class="videos_similaires">
          <h6 class="text-uppercase text-white-50 mb-3">Vidéos similaires</h6>

          {% for item in related %}
            {% set id = item.uri|split('/')|last %}
            <a href="/vimeo/video/{{ id }}" class="text-decoration-none">
              <div class="video_box d-flex align-items-center mb-2 p-2 position-relative" style="background:#1E1E1E; border-radius:8px;">
                <div class="left---img_recent position-relative me-2">
                  <img src="{{ item.pictures.sizes[2].link }}" alt="{{ item.name }}" class="rounded" width="100">
                  <small class="position-absolute bottom-0 end-0 bg-dark px-2 text-white-50 rounded">{{ item.duration|date('i:s') }}</small>
                  <div class="video__play position-absolute top-50 start-50 translate-middle">
                    <svg width="32" height="32" viewBox="0 0 58 58" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M0 28.8C0 12.8942 12.8943 0 28.8 0C44.7058 0 57.6001 12.8942 57.6001 28.8C57.6001 44.7058 44.7058 57.6 28.8 57.6C12.8943 57.6 0 44.7058 0 28.8Z" fill="#E30613"/>
                      <path d="M23.4 18L40.2 28.8L23.4 39.6V18Z" fill="white" stroke="white" stroke-width="2.4" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                  </div>
                </div>
                <div class="wrapper__body">
                  <p class="mb-0 text-white fw-medium">{{ item.name }}</p>
                </div>
              </div>
            </a>
          {% else %}
            <p class="text-white-50">Aucune vidéo similaire trouvée.</p>
          {% endfor %}
        </div>
      </div>

    </div>
  </div>
</section>

<style>
.detail___video_node iframe {
  width: 100%;
  height: 500px;
  border-radius: 10px;
}
.video_box:hover {
  background-color: #2a2a2a !important;
  transition: 0.3s;
}
.videos_similaires img {
  border-radius: 8px;
}
.description {
  font-size: 1rem;
  line-height: 1.6;
}
</style>
